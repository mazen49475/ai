# Trash Bin Detection Configuration
# Optimized for Raspberry Pi 4 64-bit

# Model Settings
model:
  path: "models/best.pt"
  confidence_threshold: 0.70  # 70% confidence threshold
  iou_threshold: 0.45
  max_detections: 100
  device: "cpu"  # Use "cpu" for Raspberry Pi 4 (no CUDA)

# Camera Settings
camera:
  source: "picamera"  # "picamera" for Pi Camera, 0 for USB webcam, or video file path
  width: 640
  height: 480
  fps: 30
  rotation: 0  # 0, 90, 180, or 270
  flip_horizontal: false
  flip_vertical: false

# Detection Settings
detection:
  classes: null  # null for all classes, or list like [0, 1, 2]
  min_box_area: 1000  # Minimum bounding box area to consider
  tracking_enabled: false

# Web Server Settings
server:
  host: "0.0.0.0"
  port: 5000
  debug: false
  threaded: true

# Output Settings
output:
  save_images: true
  save_video: false
  output_dir: "output"
  image_format: "jpg"
  video_format: "mp4"
  annotate_frames: true
  show_fps: true
  show_timestamp: true

# Logging Settings
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  log_dir: "logs"
  max_log_size_mb: 10
  backup_count: 5
  log_detections: true

# Alert Settings - Buzzer on GPIO17
alerts:
  enabled: true
  min_confidence: 0.70  # 70% confidence threshold for buzzer
  alert_classes:
    - "garbage container"
    - "trash"
    - "bin"
    - "waste"
  # GPIO Buzzer - stays ON while class detected, OFF when not
  gpio:
    enabled: true
    pin: 17  # GPIO 17 for buzzer (BCM numbering)
    continuous: true  # Buzzer stays ON while object detected

# Performance Settings - Optimized for Raspberry Pi 4
performance:
  skip_frames: 1  # Skip 1 frame between detections for better performance
  resize_for_detection: true
  detection_size: 640  # YOLO detection size
  use_threading: true
  buffer_size: 4
